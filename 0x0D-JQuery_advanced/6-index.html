<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Task 6</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>


</head>

<body>

    <script type="application/javascript">
        function createFamilyTree() {
            $('body').append('<table>');
            $('table').append('<thead>', '<tbody>');
            $('thead').append('<tr>')
            $('tr').append('<th>', '<<th>');
            $('th:nth-child(1)').text('Firstname');
            $('th:nth-child(2)').text('Lastname');
        }
        function addNewMember(firstName, lastName, position) {
            rows = '<tr><td>' + firstName + '</td>\n<td>' + lastName + '</td>\n<td style="background-color: orange;" class="row-x">' + '(x)' + '</td></tr>';
            if (position == 0){
                $( 'table tbody' ).prepend( rows );
                rm();
            } else if (position == 1) {
                $('table tbody' ).append( rows);
                rm();
            }
        }

        function createForm(){
            $('body').prepend('<div style="display: flex; flex-direction: row;">\n\
                                <input type="text" id="firstname">\n\
                                <input type="text" id="lastname">\n\
                                <select id="pos" value="person"><option value="0" name="before">Before</option>\n\
                                <option value="1" name="after">After</option>\n<\select>\n\
                                <input type="submit" id="subform" value="Submit">\n\
                                </div>');
        }

        function rm() {
        $('.row-x').click(function () {
            $(this).closest('tr').remove();
        });
        }

        function submit_btn(){
            $('#subform').click(function(){
                let firstname = $('#firstname').val();
                let lastName = $('#lastname').val();
                let option = $('#pos').val();

                addNewMember(firstname, lastName, option);
            });
        }
        $( document ).ready(function() {
        createFamilyTree();
        createForm();

        addNewMember('Guillaume', 'Salva', 1);
        addNewMember('Arielle', 'Snizt', 1);
        addNewMember('Fanette', 'Snizt', 1);
        addNewMember('Gerard', 'Snizt', 1);
        addNewMember('Victor', 'Salva', 1);
        submit_btn();

        
        }); 
    </script>

</body>

</html>