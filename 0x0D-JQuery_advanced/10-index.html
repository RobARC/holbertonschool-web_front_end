<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Task 9</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

</head>

<body>

    <script type="application/javascript">
        function addPostRow(data){
            $('body').append('<p>\<span>Post created with id ' + data.id + ', title:' + data.title + ', author:' + data.author + '</span></p>')

        }

        function listPosts() {
                $.get('http://localhost:3000/posts', function (data, status) {
                    let len = data.length;
                    if (status === 'success') {
                        for (let i = 0; i < len; i++) {
                            addPostRow(data[i]);
                         } 
                    } else {
                            alert('Server Error');
                        }
                });
        }

        $(document).ready(function(){
            listPosts();
        })

    </script>

</body>

</html>